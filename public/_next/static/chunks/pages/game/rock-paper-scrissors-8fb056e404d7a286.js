(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[749],{5426:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/rock-paper-scrissors",function(){return o(5756)}])},5756:function(e,n,o){"use strict";o.r(n);var t=o(7568),s=o(828),a=o(655),i=o(5893),c=o(7294),l=o(9367),r=o(5675),d=o.n(r);o(1955);var u=o(461),m=o(6245),p=function(){var e,n=function(){Z("none"),L("block"),console.log("klik 1")},o=function(){Z("block"),L("none"),en("none")},r=function(){es("none"),nk.emit("create-room",[W,nj,]),console.log("createroomButton udah di klik dengan id ",W)},p=function(){Z("none"),z("block")},h=function(){window.location.href="/game/rock-paper-scissors/vsbot"},x=function(){Z("block"),z("none"),es("none")},g=function(){es("none"),nk.emit("join-room",[K,nj,])},y=function(){es("none"),nk.emit("join-random",nj),console.log("Join Room Button telah di klik")},f=function(){eK&&""===e3&&e0&&e4&&(ne(e3="rock"),v(e3),nk.emit("make-move",{playerId:e7,myChoice:e3,roomId:no}),console.log("Batu P1 telah di klik",e7," ",e3," ",no))},j=function(){eK&&""===e3&&e0&&e4&&(ne(e3="paper"),v(e3),nk.emit("make-move",{playerId:e7,myChoice:e3,roomId:no}))},C=function(){eK&&""===e3&&e0&&e4&&(ne(e3="scissor"),v(e3),nk.emit("make-move",{playerId:e7,myChoice:e3,roomId:no}))},k=function(e){1===e?eL("green"):eD("green")},b=function(){eQ(!1),e1(!1),e5(!1),X("block"),Z("block"),U("none"),z("none"),L("none"),eD("red"),eL("red"),ni(0),nr(0),N(),P(),R()},S=function(){e5(!1),eD("red")},N=function(){ev(na),eO(nl)},v=function(e){"rock"===e?ec("#C4C4C4"):"paper"===e?ed("#C4C4C4"):ep("#C4C4C4"),eQ(!1)},w=function(e){"rock"===e?ec("transparent"):"paper"===e?ed("transparent"):ep("transparent"),eQ(!0),ne("")},B=function(e){"rock"===e?eg("#C4C4C4"):"paper"===e?ej("#C4C4C4"):eb("#C4C4C4")},O=function(e){return"rock"===e?nx("✊"):"paper"===e?nx("✋"):nx("✌"),nh},R=function(){eg("transparent"),ej("transparent"),eb("transparent")},P=function(){eZ("flex"),eU("none"),eX("none"),ez("none")},_=function(e,n,o,t,s){Date.now(),"YOU ".concat(O(t)," \n          vs ENEMY ").concat(O(s)," ").concat(1==e?"(WIN)":1==n?"(DRAW)":"(LOSE)"),nu[1]===nj?nu[0]:nu[0]===nj&&nu[1],setTimeout(function(){w(e3),R(),P()},2500)},I=(0,c.useState)("none"),E=I[0],L=I[1],J=(0,c.useState)(""),W=J[0],D=J[1],M=(0,c.useState)("block"),Y=M[0],Z=M[1],A=(0,c.useState)("flex"),T=A[0],U=A[1],V=(0,c.useState)("block"),G=V[0],X=V[1],H=(0,c.useState)("none"),q=H[0],z=H[1],F=(0,c.useState)(""),K=F[0],Q=F[1],$=(0,c.useState)("none"),ee=$[0],en=$[1],eo=(0,c.useState)(""),et=eo[0],es=eo[1],ea=(0,c.useState)("transparent"),ei=ea[0],ec=ea[1],el=(0,c.useState)("transparent"),er=el[0],ed=el[1],eu=(0,c.useState)("transparent"),em=eu[0],ep=eu[1],eh=(0,c.useState)("transparent"),ex=eh[0],eg=eh[1],ey=(0,c.useState)("transparent"),ef=ey[0],ej=ey[1],eC=(0,c.useState)("transparent"),ek=eC[0],eb=eC[1],eS=(0,c.useState)(0),eN=eS[0],ev=eS[1],ew=(0,c.useState)(0),eB=ew[0],eO=ew[1],eR=(0,c.useState)("Waiting..."),eP=eR[0],e_=eR[1],eI=(0,c.useState)("transparent"),eE=eI[0],eL=eI[1],eJ=(0,c.useState)("transparent"),eW=eJ[0],eD=eJ[1],eM=(0,c.useState)("flex"),eY=eM[0],eZ=eM[1],eA=(0,c.useState)("none"),eT=eA[0],eU=eA[1],eV=(0,c.useState)("none"),eG=eV[0],eX=eV[1],eH=(0,c.useState)("none"),eq=eH[0],ez=eH[1],eF=(0,c.useState)(!1),eK=eF[0],eQ=eF[1],e$=(0,c.useState)(!1),e0=e$[0],e1=e$[1],e2=(0,c.useState)(!1),e4=e2[0],e5=e2[1],e6=(0,c.useState)(0),e7=e6[0],e9=e6[1],e8=(0,c.useState)(""),e3=e8[0],ne=e8[1],nn=(0,c.useState)(""),no=nn[0],nt=nn[1],ns=(0,c.useState)(""),na=ns[0],ni=ns[1],nc=(0,c.useState)(""),nl=nc[0],nr=nc[1],nd=(0,c.useState)([]),nu=nd[0],nm=nd[1],np=(0,c.useState)(""),nh=np[0],nx=np[1],ng=(0,c.useState)(1),ny=(ng[0],ng[1]),nf=(0,c.useState)(""),nj=nf[0],nC=nf[1],nk=(0,l.ZP)({transports:["websocket"]}),nb=(0,s.Z)((0,u.Z)(),2),nS=nb[0];nb[1];var nN=(e=(0,t.Z)(function(){var e,n,o;return(0,a.__generator)(this,function(n){return e=nS.tgtoken,o=(0,m.Z)(e).username,console.log(o),""==o?(alert("You Haven't logged in yet..."),window.location.href="/login"):nC(o),[2]})}),function(){return e.apply(this,arguments)});return(0,c.useEffect)(function(){nN()},[]),nk.on("display-error",function(e){es("block"),es(e),console.log("SO :","display-error, L1")}),nk.on("room-created",function(e){e9(1),nt(e),console.log("room id yang sudah di buat : ",e),ny(2),X("none"),U("flex"),console.log("SO :","room-created, L2"),console.log("RoomID :",no)}),nk.on("room-joined",function(e){e9(2),nt(e),ny(2),e1(!0),k(1),X("none"),U("flex"),console.log("SO :","room-joined, L3")}),nk.on("player-1-connected",function(e){console.log(e[0],e[1]),k(1),e1(!0),console.log("SO :","player-1-connected, L4")}),nk.on("player-2-connected",function(e){console.log(e[0],e[1]),k(2),e5(!0),eQ(!0),nm(e),1===e7?e_(e[1]):2===e7?e_(e[0]):e_("Waiting..."),console.log("SO :","player-2-connected, L5")}),nk.on("player-1-disconnected",function(){b(),console.log("SO :","player-1-disconnected, L6")}),nk.on("player-2-disconnected",function(){eQ(!1),S(),nr(0),ni(0),N(),console.log("SO :","player-2-disconnected, L7")}),nk.on("draw",function(e){B(""),eZ("none"),ez("flex"),_(0,1,0,"",""),console.log("SO :","draw, L8")}),nk.on("player-1-wins",function(e){var n=e.myChoice,o=e.enemyChoice;eZ("none"),1===e7?(B(n),_(1,0,0,o,n),eU("flex"),ni(na++)):(B(o),_(0,0,1,n,o),eX("flex"),nr(nl++)),N(),console.log("SO :","player-1-wins, L9")}),nk.on("player-2-wins",function(e){var n=e.myChoice,o=e.enemyChoice;eZ("none"),2===e7?(B(o),_(1,0,0,n,o),eU("flex"),ni(na++)):(B(n),_(0,0,1,o,n),eX("flex"),nr(nl++)),N(),console.log("SO :","player-2-wins, L10")}),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"mainingameroom",children:[(0,i.jsxs)("div",{className:"startScreen",style:{display:G},children:[(0,i.jsxs)("div",{className:"gameplayChoices",id:"gameplayChoices",style:{display:Y},children:[(0,i.jsx)("button",{onClick:n,id:"openCreateRoomBox",className:"btn btn-lg mt-2 col-4",children:"Create Room"}),(0,i.jsx)("button",{onClick:p,id:"openJoinRoomBox",className:"btn btn-lg mt-2 col-4",children:"Join Room"}),(0,i.jsx)("a",{href:"/games",style:{textDecoration:"none"},children:(0,i.jsx)("button",{onClick:h,id:"openVsComRoomBox",className:"btn btn-lg mt-2 col-4",children:"vs Computer"})})]}),(0,i.jsxs)("div",{className:"createRoomBox mt-2",id:"createRoomBox",style:{display:E},children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("input",{type:"text",id:"roomIdInput",className:"form-control",style:{border:"none"},onChange:function(e){D(e.target.value)}}),(0,i.jsx)("button",{onClick:r,id:"createRoomBtn",className:"btnCreateJoin",children:"Create"})]}),(0,i.jsx)("button",{onClick:o,id:"cancelCreateActionBtn",className:"cancel-action btn",children:"Cancel"})]}),(0,i.jsxs)("div",{className:"joinBoxRoom mt-2",id:"joinBoxRoom",style:{display:q},children:[(0,i.jsxs)("div",{className:"join-with-id",children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("input",{type:"text",id:"joinRoomInput",className:"form-control",style:{border:"none"},onChange:function(e){return Q(e.target.value)}}),(0,i.jsx)("button",{onClick:g,id:"joinRoomBtn",className:"btnCreateJoin",children:"Join"})]}),(0,i.jsx)("button",{onClick:x,id:"cancelJoinActionBtn",className:"cancel-action btn",children:"Cancel"})]}),(0,i.jsx)("button",{onClick:y,className:"joinRandomBtn btn",id:"joinRandomBtn",children:"Join Random"})]}),(0,i.jsx)("div",{className:"errorMessage",id:"errorMessage",style:{display:ee},children:(0,i.jsx)("p",{children:et})})]}),(0,i.jsx)("div",{id:"mainGP",style:{display:T},children:(0,i.jsxs)("div",{className:"MainContent",children:[(0,i.jsxs)("div",{className:"Player1",children:[(0,i.jsxs)("span",{className:"player",children:[(0,i.jsx)("span",{className:"dot",id:"playerOne",style:{background:eE}})," YOU :",(0,i.jsx)("span",{id:"myScore",children:eN})]}),(0,i.jsx)("button",{onClick:f,id:"rock",style:{backgroundColor:ei},className:"optionBtnP1",children:(0,i.jsx)(d(),{src:"/img/batu.png",alt:"batu",height:"90px",width:"100px"})}),(0,i.jsx)("button",{onClick:j,id:"paper",style:{backgroundColor:er},className:"optionBtnP1",children:(0,i.jsx)(d(),{src:"/img/kertas.png",alt:"batu",height:"120px",width:"100px"})}),(0,i.jsx)("button",{onClick:C,id:"scissor",style:{backgroundColor:em},className:"optionBtnP1",children:(0,i.jsx)(d(),{src:"/img/gunting.png",alt:"batu",height:"120px",width:"100px"})}),(0,i.jsx)("h6",{id:"playerName",children:nj})]}),(0,i.jsxs)("div",{className:"midcontainer",children:[(0,i.jsx)("div",{className:"waitMessage",id:"waitMessage",children:(0,i.jsxs)("p",{children:["Game ID : ",no]})}),(0,i.jsx)("h1",{id:"VStext",style:{display:eY},children:"VS"}),(0,i.jsx)("div",{id:"P1Win",style:{display:eT},children:"YOU WIN"}),(0,i.jsx)("div",{id:"ComWin",style:{display:eG},children:"YOU LOSE"}),(0,i.jsx)("div",{id:"Draw",style:{display:eq},children:"DRAW"})]}),(0,i.jsxs)("div",{className:"Player1",children:[(0,i.jsxs)("span",{className:"player",children:[(0,i.jsx)("span",{className:"dot",id:"playerTwo",style:{background:eW}})," ENEMY :",(0,i.jsx)("span",{id:"enemyScore",children:eB})]}),(0,i.jsx)("button",{id:"rock2",style:{backgroundColor:ex},className:"optionBtnCom",children:(0,i.jsx)(d(),{src:"/img/batu.png",alt:"batu",className:"optionP1",height:"90px",width:"100px"})}),(0,i.jsx)("button",{id:"paper2",style:{backgroundColor:ef},className:"optionBtnCom",children:(0,i.jsx)(d(),{src:"/img/kertas.png",alt:"kertas",className:"optionP1",height:"120px",width:"100px"})}),(0,i.jsx)("button",{id:"scissor2",style:{backgroundColor:ek},className:"optionBtnCom",children:(0,i.jsx)(d(),{src:"/img/gunting.png",alt:"gunting",className:"optionP1",height:"120px",width:"100px"})}),(0,i.jsx)("h6",{id:"enemyName",className:"align-self-center",children:eP})]})]})})]})})};n.default=p}},function(e){e.O(0,[183,906,774,888,179],function(){return e(e.s=5426)}),_N_E=e.O()}]);